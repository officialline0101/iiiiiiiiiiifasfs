<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ </title>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
        /* å³ç«¯ã®ç´°ã„ãƒŠãƒ“ï¼ˆå›ºå®šï¼‰ */
        .side-nav {
            position: fixed;
            /* ç”»é¢ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ã‚‚å›ºå®š */
            right: -5px;
            /* ã•ã‚‰ã«å³ã¸ */
            top: 80%;
            /* ç”»é¢ä¸­å¤®ã«å›ºå®š */
            transform: translateY(-50%) translateX(16px);
            /* ä¸­å¤®é…ç½®ã¨å³ãšã‚‰ã— */
            background: #45c4b7;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 4px;
            border-radius: 10px 0 0 10px;
            z-index: 1000;
            width: 35px;
            /* ã•ã‚‰ã«ç´°ã */
        }

        .side-nav a:active {
            transform: scale(1.0);
            /* ã‚¿ãƒƒãƒ—ã—ãŸå¾Œã«å…ƒã®ã‚µã‚¤ã‚ºã«æˆ»ã™ */
        }

        .side-nav a {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            font-size: 10px;
            margin: 5px 0;
            padding: 5px;
            transition: background 0.3s, transform 0.2s;
            border-radius: 5px;
            width: 30px;
            height: 30px;
            text-align: center;
        }

        .side-nav a span {
            font-size: 24px;
            /* çŸ¢å°ã‚’ã•ã‚‰ã«å¤§ãã */
            position: absolute;
            left: 2px;
            /* å·¦ç«¯ã«å¯„ã›ã‚‹ */
            top: 13px;
            /* ã•ã‚‰ã«ä¸‹ã¸ */
        }

        /* ã‚¹ãƒãƒ›ç”¨ã®å¾®èª¿æ•´ */
        @media (max-width: 600px) {
            .side-nav {
                right: 2px;
                /* ã‚¹ãƒãƒ›ã§ã¯ã•ã‚‰ã«å³ç«¯ã« */
                width: 30px;
                /* ã‚‚ã£ã¨ç´°ã */
            }

            .side-nav a {
                width: 28px;
                height: 28px;
            }

            .side-nav a i {
                font-size: 12px;
                /* ã‚¹ãƒãƒ›ã§ã¯ã‚‚ã£ã¨å°ã•ã */
            }
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            height: 100vh;
            margin: 0;
            padding-top: 5px;
            overflow-x: hidden;
        }

        .container {
            background-color: #fdfdfd;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 96%;
            max-width: 500px;
            padding: 25px;
            box-sizing: border-box;
            margin: 0 auto;
        }

        h1 {
            background: linear-gradient(135deg, #45c4b7, #45c4b7);
            color: white;
            padding: 20px;
            border-radius: 0 0px 0px 0px;
            text-align: center;
            display: block;
            margin: -20px -15px 20px -15px;
            font-size: 26px;
            font-weight: 100;
            box-shadow: inset 0 -5px 10px rgba(0, 0, 0, 0.05);
            position: relative;
            overflow: hidden;
        }

        .label {
            display: block;
            margin-bottom: 20px;
            padding: 3px;
            font-weight: 400;
            background-color: #45c4b7;
            color: #ffffff;
            border-radius: 0px;
            font-size: 18px;
            text-align: center;
            text-indent: 20px;
            position: relative;
            overflow: hidden;
            border-top: 1px solid black;
            /* ä¸Šã®ç·š */
            border-bottom: 1px solid black;
            /* ä¸‹ã®ç·š */
        }

        .labelkibounitizi {
            display: block;
            margin: 10px 0;
            /* â† ä¸Šä¸‹ã«5pxã€å·¦å³ã¯0 */
            padding: 3px 0;
            /* â† å†…å´ã®ä½™ç™½ã¯æœ€å°é™ */
            font-weight: 400;
            background-color: #45c4b7;
            color: #ffffff;
            border-radius: 0px;
            font-size: 18px;
            text-align: center;
            text-indent: 20px;
            position: relative;
            overflow: hidden;
            border-top: 1px solid black;
            /* ä¸Šã®ç·š */
            border-bottom: 1px solid black;
            /* ä¸‹ã®ç·š */
            line-height: 1.2;
            /* â† å°‘ã—èª­ã¿ã‚„ã™ã */
        }

        .labeltyuuou {
            display: block;
            margin-bottom: 20px;
            padding: 3px;
            background-color: #45c4b7;
            color: #ffffff;
            border-radius: 0px;
            font-size: 18px;
            text-align: center;
            text-indent: 0px;
            position: relative;
            overflow: hidden;
            border-top: 1px solid black;
            /* ä¸Šã®ç·š */
            border-bottom: 1px solid black;
            /* ä¸‹ã®ç·š */
        }

        .labelmessezi {
            display: block;
            margin-top: 10px;
            /* â† æ ã®ä¸Šã«10pxã®éš™é–“ */
            margin-bottom: 20px;
            padding: 3px;
            background-color: #45c4b7;
            color: #ffffff;
            border-radius: 0px;
            font-size: 18px;
            text-align: center;
            text-indent: 0px;
            position: relative;
            overflow: hidden;
            border-top: 1px solid black;
            /* ä¸Šã®ç·š */
            border-bottom: 1px solid black;
            /* ä¸‹ã®ç·š */
        }

        .labelContent {
            display: block;
            margin-bottom: 10px;
            padding: 3px;
            font-weight: 400;
            background-color: #ffffff;
            color: rgb(20, 20, 20);
            border-radius: 0px;
            font-size: 18px;
            text-align: center;
            text-indent: 0px;
            position: relative;
            overflow: hidden;
            border-top: 1px solid black;
            /* ä¸Šã®ç·š */
            border-bottom: 1px solid black;
            /* ä¸‹ã®ç·š */
        }

        /* å¿…é ˆãƒãƒ¼ã‚¯ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .required {
            color: red;
            font-weight: bold;
            margin-left: 5px;
        }

        .required-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            color: #45c4b7;
            font-weight: bold;
            font-size: 0.9em;
            border-radius: 4px;
            padding: 2px 6px;
            border: 2px solid #45c4b7;
        }

        input[type="text"],
        input[type="tel"],
        textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid #555555;
            border-radius: 3px;
            box-sizing: border-box;
            font-size: 16px;
            transition: all 0.3s;

            /* ä»¥ä¸‹ã‚’è¿½åŠ  */
            position: relative;
            top: -5px;
            /* â† ä¸Šã«5pxãšã‚‰ã™ï¼ˆæ•°å€¤èª¿æ•´OKï¼‰ */
        }

        .visit-buttons,
        .symptoms,
        .menu-sections,
        .irradiations {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .visit-buttons button,
        .symptoms button,
        .menu-sections button,
        .irradiations button {
            flex: 1;
            padding: 10px;
            border: 1px solid #2e2e2e;
            border-radius: 4px;
            background-color: #f7f7f7;
            cursor: pointer;
            box-sizing: border-box;
            text-align: center;
            white-space: nowrap;
        }

        .visit-buttons button.active,
        .symptoms button.active,
        .menu-sections button.active,
        .irradiations button.active {
            background-color: #ffffff;
            color: #141414;
        }

        .date-inputs input[type="datetime-local"] {
            width: calc(100% - 22px);
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .submit-button {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 4px;
            background-color: #ff4c4c;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
        }

        .calendar-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
            width: 100%;
        }

        .calendar {
            flex: 1;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            width: 100%;
        }

        .calendar table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            /* ã‚»ãƒ«å¹…ã‚’å‡ç­‰ã«ã™ã‚‹ */
        }

        .calendar th,
        .calendar td {
            font-size: 12.5px;
            /* ã“ã“ã§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤‰æ›´ */
            text-align: center;
            padding: 5px;
            cursor: pointer;
            vertical-align: top;
            width: auto;
            /* é€šå¸¸ã®ã‚»ãƒ«ã¯è‡ªå‹•èª¿æ•´ */
            box-sizing: border-box;
            border: 1px solid #1a1a1a;
        }

        .calendar th:first-child,
        .calendar td:first-child {
            width: 17%;
            /* ã“ã“ã§æ™‚é–“åˆ—ã®å¹…ã‚’èª¿æ•´ */
            font-size: 12.5px;
            /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤‰æ›´ */
        }

        .calendar th {
            background-color: #f7f7f7;
        }

        .calendar td:hover {
            background-color: #ddd;
        }

        .calendar td.selected {
            background-color: #3e3f41;
            color: #fff;
        }

        .week-button-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 10px;
        }

        .week-button {
            padding: 10px 20px;
            background-color: #ffffff;
            color: #222222;
            border: 1px solid black;
            /* â† å¤–æ ã‚’é»’1pxã«è¨­å®š */
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            transform-origin: center center;
        }

        .week-button:hover {
            background-color: #ffffff;
            transform: scale(1.15);
            /* ãƒ‰ãƒ¼ãƒ³ï¼ã£ã¦ãã‚‰ã„æ‹¡å¤§ğŸ”¥ */
        }

        .week-button:active {
            transform: scale(0.95);
            /* ã‚¯ãƒªãƒƒã‚¯ã—ãŸç¬é–“ã«ã‚®ãƒ¥ãƒƒã¨ç¸®ã‚€ğŸ’¥ */
        }

        .month-button-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 10px;
        }

        .month-button {
            padding: 10px 20px;
            background-color: #ffffff;
            color: #222222;
            border: 1px solid black;
            /* â† å¤–æ ã‚’é»’1pxã«è¨­å®š */
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            transform-origin: center center;
        }

        .month-button:hover {
            background-color: #ffffff;
            transform: scale(1.15);
            /* ãƒ‰ãƒ¼ãƒ³ï¼ã£ã¦ãã‚‰ã„æ‹¡å¤§ğŸ”¥ */
        }

        .month-button:active {
            transform: scale(0.95);
            /* ã‚¯ãƒªãƒƒã‚¯ã—ãŸç¬é–“ã«ã‚®ãƒ¥ãƒƒã¨ç¸®ã‚€ğŸ’¥ */
        }

        .current-month {
            font-size: 16px;
            font-weight: 300;
            color: #3e3f41;
            margin-top: 20px;
            /* ä¸‹ã«ãšã‚‰ã™ */
            display: inline-block;
            /* margin-top ã‚’é©ç”¨ã—ã‚„ã™ãã™ã‚‹ */
        }

        .loading-spinner {
            position: fixed;
            /* ç”»é¢å…¨ä½“ã«å¯¾å¿œ */
            top: 50%;
            /* ç¸¦ä¸­å¤® */
            left: 50%;
            /* æ¨ªä¸­å¤® */
            transform: translate(-50%, -50%);
            display: none;
            /* åˆæœŸçŠ¶æ…‹ã¯éè¡¨ç¤º */
            text-align: center;
            background-color: rgba(0, 0, 0, 0.6);
            /* åŠé€æ˜ã®é»’èƒŒæ™¯ã§æ³¨ç›®åº¦ã‚¢ãƒƒãƒ— */
            padding: 40px;
            /* å‘¨å›²ã«ä½™ç™½ã‚’ã¤ã‘ã‚‹ */
            border-radius: 10px;
            /* è§’ä¸¸ã§æŸ”ã‚‰ã‹ã„å°è±¡ */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            /* å°‘ã—ç«‹ä½“æ„Ÿã‚’è¿½åŠ  */
        }

        .spinner {
            width: 60px;
            /* ã‚¹ãƒ”ãƒŠãƒ¼ã‚’ã•ã‚‰ã«å¤§ãã */
            height: 60px;
            border: 5px solid rgba(255, 255, 255, 0.2);
            /* è–„ã„ç™½ã§æ ã‚’æŸ”ã‚‰ã‹ã */
            border-top-color: #00d1ff;
            /* æ˜ã‚‹ã„é’ã§ç›®ç«‹ãŸã›ã‚‹ */
            border-radius: 50%;
            /* ä¸¸ã„å½¢çŠ¶ */
            animation: spin 0.7s linear infinite;
            /* æ»‘ã‚‰ã‹ã§é€Ÿã„å›è»¢ */
            margin-left: 12px;
            /* ã‚¹ãƒ”ãƒŠãƒ¼ã‚’å³ã«ãšã‚‰ã™ */
        }

        .loading-text {
            margin-top: 20px;
            /* ã‚¹ãƒ”ãƒŠãƒ¼ã¨ãƒ†ã‚­ã‚¹ãƒˆã®é–“éš” */
            font-size: 15px;
            /* ã•ã‚‰ã«å¤§ããªãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º */
            font-weight: bold;
            /* å¤ªå­—ã§ç›®ç«‹ãŸã›ã‚‹ */
            color: #ffffff;
            /* ç´”ç™½ã§é«˜ã„ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ */
            letter-spacing: 1px;
            /* æ–‡å­—é–“éš”ã‚’åºƒã’ã¦ãƒ¢ãƒ€ãƒ³ãªå°è±¡ã« */
            text-align: center;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            /* ãƒ†ã‚­ã‚¹ãƒˆã«å½±ã‚’ã¤ã‘ã¦è¦–èªæ€§ã‚¢ãƒƒãƒ— */
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .available {
            color: red;
        }

        .unavailable {
            background-color: #d3d3d3;
        }

        .menu-section {
            display: none;
        }

        .menu-section.active {
            display: block;
        }

        #repairLabel,
        #repairButtons {
            display: none;
        }

        #treatment-text {
            background-color: #f9f9f9;
            padding: 16px 20px;
            border: 1px solid #000000;
            border-top: none;
            /* â† ä¸Šã®æ¨ªç·šã‚’éè¡¨ç¤º */
            border-radius: 0 0 3px 3px;
            /* â† ä¸Šã®è§’ã®ä¸¸ã¿ã‚’ãªãã—ã¦è‡ªç„¶ã« */
            margin-top: -13px;
            /* â† å°‘ã—ä¸Šã«è©°ã‚ã‚‹ï¼ˆ12px â†’ 4pxï¼‰ */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            font-size: 15px;
            line-height: 1.6;
            color: #000000;
            text-align: center;
            /* â† ä¸­å¤®æƒãˆ */
        }

        .highlight-background {
            background-color: #f9f9d6;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 15px;
            margin-top: 10px;
            /* ä¸Šã«ä½™ç™½ã‚’è¿½åŠ  */
            text-align: center;
            /* ã‚³ãƒ³ãƒ†ãƒŠå†…ã®è¦ç´ ã‚’ä¸­å¤®ã«é…ç½® */
        }

        .red-circle {
            color: red;
            /* èµ¤è‰²ã«è¨­å®š */
        }

        .bold-cross {
            font-weight: bold;
            /* å¤ªæ–‡å­—ã«è¨­å®š */
        }

        .info-text {
            position: relative;
            /* â† ä¸Šä¸‹ç§»å‹•ã‚’æœ‰åŠ¹ã«ã™ã‚‹ */
            top: -20px;
            /* â† ä¸Šã«8pxãšã‚‰ã™ï¼ˆæ•°å€¤èª¿æ•´å¯ï¼‰ */
            margin-top: 0;
            /* â† ä¸Šã®ãƒãƒ¼ã‚¸ãƒ³ã¯0ã«ã—ã¦ãŠãã¨è‡ªç„¶ */
            margin-bottom: 0px;
            font-size: 13px;
            color: #000000;
            line-height: 1.5;
            text-align: center;
            word-wrap: break-word;
            background-color: #f3f3f3;
            padding: 0px;
            border-radius: 0 0 4px 4px;
            border: 1px solid black;
            border-top: none;
        }

        /* ã‚¹ãƒãƒ›å¯¾å¿œ */
        @media (max-width: 768px) {
            .info-text {
                font-size: 11.5px;
                top: -20px;
                /* â† ãƒ¢ãƒã‚¤ãƒ«ã§ã¯å°‘ã—æ§ãˆã‚ã«ä¸Šã«ãšã‚‰ã™ */
                line-height: 2.0;
            }
        }

        .symptoms,
        .options {
            display: block;
            /* ãƒœã‚¿ãƒ³ã‚’ç¸¦ä¸¦ã³ã« */
        }

        .symptoms button,
        .options button {
            display: block;
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #000000;
            border-radius: 4px;
            background-color: #ffffff;
            cursor: pointer;
            box-sizing: border-box;
            text-align: center;
            white-space: nowrap;
        }

        .symptoms button.active,
        .options button.active {
            background-color: #ffffff;
            color: #000000;
        }

        .highlight-background {
            cursor: pointer;
            background-color: #45c4b7;
            padding: 10px;
            border-radius: 6px;
            font-size: 18px;
            font-weight: 600;
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .symptoms,
        .options {
            display: block;
            /* ãƒœã‚¿ãƒ³ã‚’ç¸¦ä¸¦ã³ã« */
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: -6px 0;
        }

        hr {
            margin: -5px 0;
        }

        .edit-button {
            background-color: #ffffff;
            color: #1a1a1a;
            border: 1px solid black;
            /* â† å¤–æ ã‚’é»’1pxã«è¨­å®š */
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            transition: background-color 0.3s;
            white-space: nowrap;
            /* æ”¹è¡Œã‚’é˜²ã */
            width: auto;
            text-align: center;
        }

        .edit-button:hover {
            background-color: #45c4b7;
            color: #ffffff;
            /* â† é»’èƒŒæ™¯ã«åˆã‚ã›ã¦æ–‡å­—è‰²ã‚’ç™½ã«ã™ã‚‹ã¨è¦–èªæ€§ãŒä¸ŠãŒã‚Šã¾ã™ï¼ˆä»»æ„ï¼‰ */
        }

        /* 100ç‚¹ã®äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ CSS */

        input:focus,
        textarea:focus {
            border-color: #45c4b7;
            outline: none;
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.2);
        }

        button {
            padding: 12px;
            border: none;
            border-radius: 6px;
            background-color: #3e3f41;
            color: #000000;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:hover {
            background-color: #e9e9e9;
            transform: scale(1.05);
        }

        .submit-button {
            width: 100%;
            padding: 15px;
            font-size: 18px;
            background-color: #45c4b7;
            margin-top: 12px;
            /* â† ã“ã“ã§ä¸‹æ–¹å‘ã«ãšã‚‰ã™ */
        }

        .submit-button:hover {
            background-color: #45c4b7;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            h1 {
                font-size: 22px;
            }

            input,
            button {
                font-size: 14px;
            }
        }

        button.active {
            outline: 1px solid #2b2b2b;
            /* ã“ã“ã§æ ç·šã‚’æŒ‡å®š */
            outline-offset: 2px;
            /* å¤–å´ã«è‰²ã‚’è¿½åŠ  */
            box-shadow: 0 0 0 3px #45c4b7
        }

        /* å¿…é ˆãƒãƒ¼ã‚¯ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .required {
            color: #ffffff;
            /* ã‚´ãƒ¼ãƒ«ãƒ‰ï¼ˆé»„è‰²ï¼‰ */
            font-weight: lighter;
            /* æ–‡å­—ã‚’ç´°ãã™ã‚‹ */
            font-size: 0.6em;
            margin-left: 5px;
            vertical-align: 0.8em;
            /* ä½ç½®ã‚’å°‘ã—ä¸Šã«èª¿æ•´ */

            /* ç™½è‰²èƒŒæ™¯ã®å››è§’å½¢ */
            background-color: rgb(255, 15, 15);
            padding: 0 5px;
            border-radius: 3px;
            margin-right: 5px;
        }

        .current-month {
            text-align: center;
            display: block;
            position: absolute;
            left: 50%;
            transform: translate(-50%, -10px);
            /* Yæ–¹å‘ã«ä¸Šã’ã‚‹ */
            background-color: #3e3f41;
            color: #fff;
            padding: 3px 12px;
            /* ãƒœãƒƒã‚¯ã‚¹ã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’ç¸®å° */
            border-radius: 8px;
            /* è§’ã®ä¸¸ã¿ã‚’å°‘ã—æ¸›å°‘ */
            font-size: 1.4rem;
            /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å°ã•ã */
            font-weight: 300;
            box-shadow: 0 2px 6px rgba(47, 103, 167, 0.2);
            /* å½±ã‚‚æ§ãˆã‚ã« */
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ */
        .sidebar {
            position: fixed;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background: #1e1e2d;
            padding: 10px;
            border-radius: 10px 0 0 10px;
            z-index: 1000;
        }

        .sidebar a {
            display: block;
            padding: 15px;
            color: white;
            text-decoration: none;
            text-align: center;
            font-size: 14px;
            margin-bottom: 10px;
            background: #4a90e2;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .sidebar a:hover {
            background: #357ac4;
        }

        /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç”¨ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .section {
            padding: 50px 10px;
            margin-top: 30px;
        }

        .repeat-booking-wrapper {
            text-align: center;
            margin: 20px 0;
        }

        #repeatBookingButton {
            background-color: #f7f7f7;
            color: #000000;
            border: 1px solid #000000;
            font-size: 16px;
            font-weight: bold;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        }

        #repeatBookingButton:hover {
            background-color: #f1f1f1;
            color: #000000;
        }

        .datetime-placeholder {
            position: absolute;
            top: 50%;
            left: 15px;
            transform: translateY(-50%);
            color: #aaa;
            font-size: 16px;
            pointer-events: none;
            transition: all 0.3s ease;
        }

        .datetime-input {
            width: 100%;
            padding: 18px;
            /* å°‘ã—å¤§ãã‚ã«ã—ã¦æŠ¼ã—ã‚„ã™ã */
            font-size: 18px;
            border: 1px solid #000000;
            /* å°‘ã—æ¿ƒãã—ã¦è¦–èªæ€§ã‚¢ãƒƒãƒ— */
            border-radius: 8px;
            /* æŒ‡è§¦ã‚Šã®è‰¯ã„ãƒ‡ã‚¶ã‚¤ãƒ³ */
            box-sizing: border-box;
            background-color: #fff;
            color: #333;
            appearance: none;
            /* OSã«å·¦å³ã•ã‚Œã«ããã™ã‚‹ */
            touch-action: manipulation;
            /* ãƒ¢ãƒã‚¤ãƒ«ã®ã‚¿ãƒƒãƒ—ç²¾åº¦å‘ä¸Š */
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .datetime-input:focus {
            border-color: #007BFF;
            box-shadow: 0 0 0 4px rgba(0, 123, 255, 0.2);
            /* ã‚¿ãƒƒãƒ—æ™‚ã®è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ */
            outline: none;
        }

        .kibounitizi {
            display: block;
            /* ãƒ–ãƒ­ãƒƒã‚¯è¦ç´ ã¨ã—ã¦è¡¨ç¤ºã€‚å¹…ã„ã£ã±ã„ã«åºƒãŒã‚‹ã‚ˆï¼ */
            margin-bottom: 1px;
            /* ä¸‹ã«10pxã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’ã‚ã‘ã‚‹ï¼ˆä½™ç™½ï¼‰ */
            padding: 3px;
            /* å†…å´ã«3pxã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’ã¤ã‘ã‚‹ï¼ˆä¸­èº«ãŒãã£ã¤ã‹ãªã„ã‚ˆã†ã«ï¼‰ */
            font-weight: 600;
            /* æ–‡å­—ã‚’å°‘ã—å¤ªãã™ã‚‹ï¼ˆ600ã¯å¤ªã•ã®ç›®å®‰ï¼‰ */
            background-color: #45c4b7;
            /* èƒŒæ™¯ã®è‰²ã‚’ãã™ã‚“ã ç·‘ã«ã™ã‚‹ */
            color: white;
            /* æ–‡å­—ã®è‰²ã‚’ç™½ã«ã™ã‚‹ */
            border-radius: 6px;
            /* è§’ã‚’6pxã ã‘ä¸¸ãã™ã‚‹ï¼ˆãµã‚“ã‚ã‚Šã—ãŸè¦‹ãŸç›®ã«ï¼‰ */
            font-size: 20px;
            /* æ–‡å­—ã®å¤§ãã•ã‚’18pxã«ã™ã‚‹ï¼ˆã¡ã‚‡ã£ã¨å¤§ãã‚ï¼‰ */
            text-align: center;
            /* æ–‡å­—ã‚’ä¸­å¤®ã«æƒãˆã‚‹ */
            /* â†‘ ä¸­å¤®æƒãˆã«ã—ã¦ã„ã¾ã™ */
            text-indent: 20px;
            /* æœ€åˆã®è¡Œã ã‘ã€æ–‡å­—ã‚’å³ã«20pxãšã‚‰ã™ */
            /* â†‘ ãƒ†ã‚­ã‚¹ãƒˆã®å…ˆé ­ã‚’ã¡ã‚‡ã£ã¨å³ã«ãšã‚‰ã—ã¦ã‚‹ã‚ˆï¼ */
            position: relative;
            /* å­è¦ç´ ã‚’è‡ªç”±ã«é…ç½®ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æº–å‚™ï¼ˆä½ç½®èª¿æ•´ï¼‰ */
            overflow: hidden;
            /* ã¯ã¿å‡ºãŸä¸­èº«ã‚’éš ã™ï¼ˆæ ã‹ã‚‰å‡ºãªã„ã‚ˆã†ã«ã™ã‚‹ï¼‰ */
        }

        .small-text {
            font-size: 18px;
            /* å¥½ããªã‚µã‚¤ã‚ºã«å¤‰æ›´å¯èƒ½ */
        }

        /* æ—¢å­˜ã® .datetime-input ã‚’æ´»ã‹ã—ã¤ã¤æ¨ªä¸¦ã³ */
        .dt-grid {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .dt-grid .datetime-input {
            flex: 1 1 50%;
        }

        @media (max-width: 480px) {
            .dt-grid {
                flex-direction: column;
            }
        }

        /* æ—¢å­˜ã® .datetime-input ã‚¹ã‚¿ã‚¤ãƒ«ãŒåŠ¹ã„ã¦åŒã˜è¦‹ãŸç›®ã«ãªã‚Šã¾ã™ */
        .dt-grid {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        @media (max-width: 480px) {
            .dt-grid {
                flex-direction: column;
            }
        }

        .time-disabled {
            opacity: 0.5;
            pointer-events: none;
            /* ã‚¯ãƒªãƒƒã‚¯ç„¡åŠ¹ã«ã—ã¦ãŠãï¼ˆé¸ã¹ãªã„ï¼‰ */
        }

/* ===== ã”æŒ‡åã‚»ãƒ¬ã‚¯ãƒˆï¼ˆ#designerï¼‰ ===== */
#designer{
  width: 100%;
  box-sizing: border-box;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-color: #fff;
  /* â–¼ ã‚«ã‚¹ã‚¿ãƒ çŸ¢å°ï¼ˆSVGï¼‰ */
  background-image: url("data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 9l6 6 6-6' stroke='%2399A3AE' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  padding: 12px 44px 12px 14px; /* å³ã¯çŸ¢å°åˆ†ã‚’ç¢ºä¿ */
  border: 1.5px solid var(--border, #e5e7eb);
  border-radius: 10px;
  color: var(--ink, #111827);
  font-size: 16px;          /* iOSã®æ‹¡å¤§é˜²æ­¢ */
  line-height: 1.2;
  transition: border-color .2s ease, box-shadow .2s ease, background-color .2s ease;
}

#designer:hover{
  border-color: var(--border-hover, #cbd5e1);
}

#designer:focus{
  outline: none;
  border-color: var(--accent, #06C755);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent, #06C755) 20%, #ffffff);
}

/* æœªé¸æŠï¼ˆplaceholderï¼‰è¦‹ãŸç›®ã€‚
   â€» HTMLå´ã§ <select id="designer" required> ã¨ã—ã€
      å…ˆé ­optionã« value="" disabled selected ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚ */
#designer:invalid{
  color: var(--muted, #94a3b8);
}

/* å…ˆé ­ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¯é¸æŠè‚¢ã§è¦‹ã›ãªã„ */
#designer option[disabled][value=""]{
  display: none;
}

/* ç„¡åŠ¹çŠ¶æ…‹ */
#designer:disabled{
  background-color: #f4f6f8;
  color: #9aa3af;
  cursor: not-allowed;
}

/* ã‚¨ãƒ©ãƒ¼å¼·èª¿ã—ãŸã„ã¨ãã¯ JS ãªã©ã§ .is-error ã‚’ä»˜ä¸ */
#designer.is-error{
  border-color: #ef4444;
  box-shadow: 0 0 0 3px rgba(239,68,68,.15);
}

/* ãƒ©ãƒ™ãƒ«ç›´ä¸‹ã«æ¥ã‚‹å ´åˆã®ä½™ç™½èª¿æ•´ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰ */
.label + #designer{
  margin-top: 6px;
}

/* ãƒ¢ãƒã‚¤ãƒ«ã®ã‚¿ãƒƒãƒ—å¿«é©åŒ– */
@media (max-width: 480px){
  #designer{
    min-height: 44px;   /* ã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„é«˜ã• */
  }
}

/* ã”æŒ‡åã‚»ãƒ¬ã‚¯ãƒˆã‚’ä¸Šã«10pxç§»å‹• */
.label + #designer{
  margin-top: -5px !important;
}

/* ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ã ã‘ã‚’ä¸Šã«5px */
#designer{
  position: relative;
  top: -10px;
}

/* ä»¥å‰ã« margin ã§ä¸Šã’ã¦ã„ãŸå ´åˆã¯æ‰“ã¡æ¶ˆã— */
.label + #designer{ margin-top: 0 !important; }

/* ===== ã”æŒ‡åï¼ã¾ã¤æ¯›ãƒ»çœ‰æ¯›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ã‚»ãƒ¬ã‚¯ãƒˆï¼ˆ#designer, #eyeBrowMenuï¼‰ ===== */
#designer,
#eyeBrowMenu{
  width: 100%;
  box-sizing: border-box;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-color: #fff;
  /* â–¼ ã‚«ã‚¹ã‚¿ãƒ çŸ¢å°ï¼ˆSVGï¼‰ */
  background-image: url("data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 9l6 6 6-6' stroke='%2399A3AE' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 16px 16px;

  padding: 12px 44px 12px 14px; /* å³ã¯çŸ¢å°åˆ†ã‚’ç¢ºä¿ */
  border: 1.5px solid var(--border, #111827);
  border-radius: 10px;
  color: var(--ink, #111827);
  font-size: 16px;          /* iOSã®æ‹¡å¤§é˜²æ­¢ */
  line-height: 1.2;
  transition: border-color .2s ease, box-shadow .2s ease, background-color .2s ease;

  /* ä¸Šã«ãšã‚‰ã™ï¼ˆå¿…è¦ã«å¿œã˜ã¦èª¿æ•´ï¼‰ */
  position: relative;
  top: -10px;
}

/* hover */
#designer:hover,
#eyeBrowMenu:hover{
  border-color: var(--border-hover, #111827);
}

/* focus */
#designer:focus,
#eyeBrowMenu:focus{
  outline: none;
  border-color: var(--accent, #06C755);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent, #06C755) 20%, #ffffff);
}

/* æœªé¸æŠï¼ˆplaceholderï¼‰è¦‹ãŸç›®ã€‚
   â€» HTMLå´ã§ required ã¨ã—ã€å…ˆé ­optionã« value="" disabled selected ã‚’æŒ‡å®š */
#designer:invalid,
#eyeBrowMenu:invalid{
  color: var(--muted, #111827);
}

/* å…ˆé ­ã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã¯é¸æŠè‚¢ã§è¦‹ã›ãªã„ */
#designer option[disabled][value=""],
#eyeBrowMenu option[disabled][value=""]{
  display: none;
}

/* ç„¡åŠ¹çŠ¶æ…‹ */
#designer:disabled,
#eyeBrowMenu:disabled{
  background-color: #111827;
  color: #9aa3af;
  cursor: not-allowed;
}

/* ã‚¨ãƒ©ãƒ¼å¼·èª¿ï¼ˆ.is-error ã‚’ä»˜ä¸ï¼‰ */
#designer.is-error,
#eyeBrowMenu.is-error{
  border-color: #ef4444;
  box-shadow: 0 0 0 3px rgba(239,68,68,.15);
}

/* ãƒ©ãƒ™ãƒ«ç›´ä¸‹ã«æ¥ã‚‹å ´åˆã®ä½™ç™½èª¿æ•´ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ */
.label + #designer,
.label + #eyeBrowMenu{
  margin-top: 6px;
}

/* ä»¥å‰ã« margin ã§ä¸Šã’ã¦ã„ãŸæŒ‡å®šãŒã‚ã‚‹å ´åˆã®æ‰“ã¡æ¶ˆã— */
.label + #designer,
.label + #eyeBrowMenu{
  margin-top: 0 !important;
}

/* ãƒ¢ãƒã‚¤ãƒ«ã®ã‚¿ãƒƒãƒ—å¿«é©åŒ– */
@media (max-width: 480px){
  #designer,
  #eyeBrowMenu{
    min-height: 44px;   /* ã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„é«˜ã• */
  }
}


    </style>
</head>

<body>
  <!-- å³å´ã®è¿½å¾“ãƒŠãƒ“ -->
  <div class="side-nav" id="sideNav">
    <a href="#section-message">
      <span>â‡©</span>
      <i class="fas fa-comment"></i>
    </a>
  </div>

  <div class="container">
    <h1>
      <span class="small-text">ãƒã‚¤ãƒ«ãƒ»ã¾ã¤æ¯›åŒæ™‚æ–½è¡“<br>äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ </span>
    </h1>

    <!-- â‘  ãŠåå‰ -->
    <div class="label">ãŠåå‰<span class="required">å¿…é ˆ</span></div>
    <input type="text" id="name" placeholder="ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" oninput="saveInput('name')">

    <!-- â‘¡ ãŠé›»è©±ç•ªå· -->
    <div class="label">ãŠé›»è©±ç•ªå·<span class="required">å¿…é ˆ</span></div>
    <input type="tel" id="phone" placeholder="é›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„" oninput="saveInput('phone')">

    <!-- â‘¢ ã”æ¥åº—å›æ•°ï¼ˆè‡ªç”±è¨˜è¼‰ï¼‰ -->
    <div class="label">ã”æ¥åº—å›æ•°<span class="required">å¿…é ˆ</span></div>
    <input type="text" id="visitCountFree" placeholder="ä¾‹ï¼‰åˆã‚ã¦ï¼2å›ç›®ï¼3å›ç›® ãªã©">

<!-- â‘£ ã¾ã¤æ¯›ãƒ»çœ‰æ¯›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆå¿…é ˆï¼‰ -->
<div class="label">ã¾ã¤æ¯›ãƒ»çœ‰æ¯›ãƒ¡ãƒ‹ãƒ¥ãƒ¼<span class="required">å¿…é ˆ</span></div>
<div class="symptoms" id="eyeBrowMenuGroup">
  <button type="button" onclick="selectSingle('eyeBrowMenuGroup', this)">ã¾ã¤æ¯›ãƒ‘ãƒ¼ãƒ&ç¾çœ‰ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°</button>
  <button type="button" onclick="selectSingle('eyeBrowMenuGroup', this)">ã¾ã¤ã’ãƒ‘ãƒ¼ãƒ</button>
  <button type="button" onclick="selectSingle('eyeBrowMenuGroup', this)">ç¾çœ‰ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°</button>
  <button type="button" onclick="selectSingle('eyeBrowMenuGroup', this)">é¡”ã‚¿ã‚¤ãƒ—è¨ºæ–­Ã—ãƒãƒ„ãƒ‘&çœ‰Wax</button>
  <button type="button" onclick="selectSingle('eyeBrowMenuGroup', this)">Wè¨ºæ–­(é¡”ã‚¿ã‚¤ãƒ—,4ã‚¿ã‚¤ãƒ—ã‚«ãƒ©ãƒ¼)<br>Ã—<br>ãƒãƒ„ãƒ‘&çœ‰Waxï¼†ãƒ¡ã‚¤ã‚¯</button>
</div>

<!-- â‘¤ ãƒã‚¤ãƒ«ã®ã”æŒ‡åï¼ˆå¿…é ˆï¼‰ -->
<div class="label">ãƒã‚¤ãƒ«ã®ã”æŒ‡å<span class="required">å¿…é ˆ</span></div>
<select id="designer" required>
  <option value="" disabled selected>é¸æŠã—ã¦ãã ã•ã„</option>
  <option>æŒ‡åç„¡ã—</option>
  <option>YUKO</option>
  <option>MAKI</option>
  <option>YUKA</option>
  <option>TOMOMI</option>
  <option>SHIORI</option>
  <option>MEGU</option>
</select>

    <!-- â‘¥ ãƒãƒ³ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆå¿…é ˆï¼‰ é¸ã‚“ã ã‚‰â‘¥-1/â‘¥-2ã‚’è¡¨ç¤º -->
    <div class="label">ãƒãƒ³ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼<span class="required">å¿…é ˆ</span></div>
    <div class="symptoms" id="handMenuGroup">
      <button type="button" onclick="selectHandMenu(this)">ãƒ¯ãƒ³ã‚«ãƒ©ãƒ¼</button>
      <button type="button" onclick="selectHandMenu(this)">ãƒã‚°</button>
      <button type="button" onclick="selectHandMenu(this)">ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¯ãƒ³ã‚«ãƒ©ãƒ¼</button>
      <button type="button" onclick="selectHandMenu(this)">ã‚·ãƒ³ãƒ—ãƒ«ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹</button>
      <button type="button" onclick="selectHandMenu(this)">ã‚·ãƒ¼ã‚ºãƒ³ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</button>
      <button type="button" onclick="selectHandMenu(this)">art A</button>
      <button type="button" onclick="selectHandMenu(this)">art B</button>
      <button type="button" onclick="selectHandMenu(this)">artC</button>
      <button type="button" onclick="selectHandMenu(this)">90åˆ†æŒã¡è¾¼ã¿</button>
      <button type="button" onclick="selectHandMenu(this)">120åˆ†æŒã¡è¾¼ã¿</button>
      <button type="button" onclick="selectHandMenu(this)">ãƒ•ãƒ¬ãƒ³ãƒ</button>
      <button type="button" onclick="selectHandMenu(this)">ã‚ªãƒ•ã®ã¿</button>
    </div>

    <!-- â‘¥-1 ãƒã‚¤ãƒ«ï¼ˆãƒãƒ³ãƒ‰ã®ã‚ªãƒ•ï¼‰â€»ãƒãƒ³ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠå¾Œã«è¡¨ç¤º -->
    <div id="handOffWrap" style="display:none;">
      <div class="label" style="margin-top:12px;">ãƒã‚¤ãƒ«ï¼ˆãƒãƒ³ãƒ‰ï¼‰<span class="required">å¿…é ˆ</span></div>
      <div class="visit-buttons" id="handOffGroup">
        <button type="button" onclick="selectSingle('handOffGroup', this)">ã‚ªãƒ•ã‚ã‚Š</button>
        <button type="button" onclick="selectSingle('handOffGroup', this)">ã‚ªãƒ•ãªã—</button>
      </div>
    </div>

    <!-- â‘¥-2 ãƒãƒ³ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆä»»æ„ï¼‰â€»ãƒãƒ³ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠå¾Œã«è¡¨ç¤º -->
    <div id="handOptionWrap" style="display:none;">
      <div class="label" style="margin-top:12px;">ãƒãƒ³ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆä»»æ„ï¼‰</div>
      <div class="irradiations" id="handOptionGroup">
        <button type="button" onclick="toggleMulti(this)">ã‚¢ãƒ¼ãƒˆãƒ»ãƒ‘ãƒ¼ãƒ„1æœ¬ã€œ</button>
        <button type="button" onclick="toggleMulti(this)">äº€è£‚è£œå¼·ï¼ˆÂ¥550)</button>
        <button type="button" onclick="toggleMulti(this)">é•·ã•å‡ºã—ï¼ˆÂ¥1100ï¼‰</button>
        <button type="button" onclick="toggleMulti(this)">ãƒŸãƒ©ãƒ¼</button>
        <button type="button" onclick="toggleMulti(this)">ã‚ªãƒ¼ãƒ­ãƒ©ãƒ‘ã‚¦ãƒ€ãƒ¼1æœ¬ï¼ˆÂ¥150ï¼‰</button>
        <button type="button" onclick="toggleMulti(this)">1è‰²è¿½åŠ ï¼ˆÂ¥550)</button>
        <button type="button" onclick="toggleMulti(this)">ãƒ©ãƒ¡ãƒ©ã‚¤ãƒ³ï¼ˆÂ¥120ï¼‰</button>
        <button type="button" onclick="toggleMulti(this)">ãƒ•ãƒ¬ãƒ³ãƒãƒ™ãƒ¼ã‚¹ï¼ˆÂ¥1100ï¼‰</button>
      </div>
    </div>

    <!-- â‘¦-1 ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆå¿…é ˆï¼‰ é¸ã‚“ã ã‚‰â‘¦-2/â‘¦-3ã‚’è¡¨ç¤º -->
    <div class="label" style="margin-top:16px;">ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼<span class="required">å¿…é ˆ</span></div>
    <div class="symptoms" id="footMenuGroup">
      <button type="button" onclick="selectFootMenu(this)">ãƒ¯ãƒ³ã‚«ãƒ©ãƒ¼</button>
      <button type="button" onclick="selectFootMenu(this)">ãƒã‚°</button>
      <button type="button" onclick="selectFootMenu(this)">ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ¯ãƒ³ã‚«ãƒ©ãƒ¼</button>
      <button type="button" onclick="selectFootMenu(this)">90åˆ†æŒã¡è¾¼ã¿</button>
      <button type="button" onclick="selectFootMenu(this)">ã‚¸ã‚§ãƒ«ã‚ªãƒ•ã®ã¿</button>
      <button type="button" onclick="selectFootMenu(this)">ã‚±ã‚¢ã®ã¿</button>
    </div>

    <!-- â‘¦-2 ãƒã‚¤ãƒ«ï¼ˆãƒ•ãƒƒãƒˆã®ã‚ªãƒ•ï¼‰â€»ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠå¾Œã«è¡¨ç¤º -->
    <div id="footOffWrap" style="display:none;">
      <div class="label" style="margin-top:12px;">ãƒã‚¤ãƒ«ï¼ˆãƒ•ãƒƒãƒˆï¼‰<span class="required">å¿…é ˆ</span></div>
      <div class="visit-buttons" id="footOffGroup">
        <button type="button" onclick="selectSingle('footOffGroup', this)">ã‚ªãƒ•ã‚ã‚Š</button>
        <button type="button" onclick="selectSingle('footOffGroup', this)">ã‚ªãƒ•ãªã—</button>
      </div>
    </div>

    <!-- â‘¦-3 ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆå¿…é ˆãƒ»è¤‡æ•°å¯ï¼‰â€»ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠå¾Œã«è¡¨ç¤º -->
    <div id="footOptionWrap" style="display:none;">
      <div class="label" style="margin-top:12px;">ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³<span class="required">å¿…é ˆ</span></div>
      <div class="irradiations" id="footOptionGroup">
        <button type="button" onclick="toggleMulti(this)">è§’è³ªã‚±ã‚¢ï¼ˆÂ¥2500)</button>
        <button type="button" onclick="toggleMulti(this)">å·»ãçˆªã‚¸ã‚§ãƒ«ï¼ˆÂ¥3500ï¼‰</button>
        <button type="button" onclick="toggleMulti(this)">ã‚¢ãƒ¼ãƒˆãƒ»ãƒ‘ãƒ¼ãƒ„1æœ¬ã€œ</button>
      </div>
    </div>

    <!-- å¸Œæœ›æ—¥æ™‚ï¼ˆç¬¬1ã®ã¿å¿…é ˆã€‚ç¬¬2ãƒ»ç¬¬3ã¯ä»»æ„ï¼‰ -->
    <div class="labelkibounitizi" style="margin-top:18px;">å¸Œæœ›æ—¥æ™‚<span class="required">å¿…é ˆ</span></div>
    <div class="datetime-wrapper" style="text-align: center;">
      <span class="placeholder" id="placeholder1">â‡©ã‚¿ãƒƒãƒ—ã—ã¦æ—¥æ™‚ã‚’å…¥åŠ›â‡©</span>
      <input type="hidden" id="date1" name="date1">
      <div class="dt-grid">
        <select id="date1_day" class="datetime-input" aria-label="æ—¥ä»˜ã‚’é¸æŠ"></select>
        <select id="date1_time" class="datetime-input" aria-label="æ™‚é–“ï¼ˆ00/30ã®ã¿ï¼‰"></select>
      </div>
    </div>

    <div class="labelkibounitizi">ç¬¬äºŒå¸Œæœ›æ—¥æ™‚<span class="required">å¿…é ˆ</span></div>
    <div class="datetime-wrapper" style="text-align: center;">
      <span class="placeholder" id="placeholder2">â‡©ã‚¿ãƒƒãƒ—ã—ã¦æ—¥æ™‚ã‚’å…¥åŠ›â‡©</span>
      <input type="hidden" id="date2" name="date2">
      <div class="dt-grid">
        <select id="date2_day" class="datetime-input" aria-label="æ—¥ä»˜ã‚’é¸æŠ"></select>
        <select id="date2_time" class="datetime-input" aria-label="æ™‚é–“ï¼ˆ00/30ã®ã¿ï¼‰"></select>
      </div>
    </div>

    <div class="labelkibounitizi">ç¬¬ä¸‰å¸Œæœ›æ—¥æ™‚<span class="required">å¿…é ˆ</span></div>
    <div class="datetime-wrapper" style="text-align: center;">
      <span class="placeholder" id="placeholder3">â‡©ã‚¿ãƒƒãƒ—ã—ã¦æ—¥æ™‚ã‚’å…¥åŠ›â‡©</span>
      <input type="hidden" id="date3" name="date3">
      <div class="dt-grid">
        <select id="date3_day" class="datetime-input" aria-label="æ—¥ä»˜ã‚’é¸æŠ"></select>
        <select id="date3_time" class="datetime-input" aria-label="æ™‚é–“ï¼ˆ00/30ã®ã¿ï¼‰"></select>
      </div>
    </div>

    <!-- ãã®ä»–ã”è¦æœ› -->
    <div class="labelmessezi">ãã®ä»–ã”è¦æœ›<br>ï¼ˆè³ªå•ç­‰ãŠæ°—è»½ã«ã”è¨˜å…¥ãã ã•ã„ï¼‰</div>
    <textarea id="message" rows="4" placeholder="ãã®ä»–ã”è¦æœ›ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>

    <!-- ã‚µãƒãƒªãƒ¼ -->
    <div class="labeltyuuou">ã”äºˆç´„å†…å®¹</div>
    <div id="displayInfo"></div>

    <button class="submit-button" onclick="submitForm()" id="section-message">äºˆç´„ã‚’è¡Œã†</button>
  </div>

  <!-- LIFF & Script -->
  <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
  <script>
    // ====== åˆæœŸåŒ– ======
    document.addEventListener('DOMContentLoaded', function () {
  const LIFF_ID = '2006137975-XpgGkqgL';

  document.addEventListener('DOMContentLoaded', initPage);

  async function initPage() {
    try {
      await liff.init({ liffId: LIFF_ID });
    } catch (e) {
      console.error('LIFF init failed:', e);
      alert('ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚LINEã‚¢ãƒ—ãƒªå†…ã‹ã‚‰é–‹ãç›´ã—ã¦ãã ã•ã„ã€‚');
      return;
    }

    // LINEã‚¢ãƒ—ãƒªå¤–ãªã‚‰é€ä¿¡ä¸å¯ãªã®ã§æ˜ç¤º
    if (!liff.isInClient()) {
      console.warn('Not in LINE client');
    }

    // æ—¢å­˜ã®å¾©å…ƒå‡¦ç†
    const savedName = localStorage.getItem('name');
    const savedPhone = localStorage.getItem('phone');
    if (savedName) document.getElementById('name').value = savedName;
    if (savedPhone) document.getElementById('phone').value = savedPhone;

    // æ—¥æ™‚ãƒ”ãƒƒã‚«ãƒ¼åˆæœŸåŒ–ï¼ˆç¬¬1ã€œç¬¬3ï¼‰
    ['date1','date2','date3'].forEach(id => initPicker(id, 120));

    // å…¥åŠ›å¤‰æ›´ã§ã‚µãƒãƒªãƒ¼æ›´æ–°
    ['name','phone','visitCountFree','designer','message'].forEach(id=>{
      const el = document.getElementById(id);
      el && el.addEventListener('input', updateDisplayInfo);
      el && el.addEventListener('change', updateDisplayInfo);
    });

    updateDisplayInfo();
  }

    function saveInput(id){ localStorage.setItem(id, document.getElementById(id).value); updateDisplayInfo(); }

    // ====== å˜ä¸€/è¤‡æ•°é¸æŠãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ ======
    function selectSingle(groupId, btn){
      const group = document.getElementById(groupId);
      group.querySelectorAll('button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      updateDisplayInfo();
    }
    function toggleMulti(btn){ btn.classList.toggle('active'); updateDisplayInfo(); }
    function getSingle(groupId){
      const el = document.querySelector(`#${groupId} button.active`);
      return el ? el.innerText.trim() : '';
    }
    function getMultiTexts(groupId){
      return Array.from(document.querySelectorAll(`#${groupId} button.active`)).map(b=>b.innerText.trim());
    }

    // ====== ãƒãƒ³ãƒ‰/ãƒ•ãƒƒãƒˆ ãƒ¡ãƒ‹ãƒ¥ãƒ¼é¸æŠã§è¿½å¾“è¡¨ç¤º ======
    function selectHandMenu(btn){
      // å˜ä¸€é¸æŠ
      document.querySelectorAll('#handMenuGroup button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      // â‘¥-1/â‘¥-2 ã‚’è¡¨ç¤º
      document.getElementById('handOffWrap').style.display = 'block';
      document.getElementById('handOptionWrap').style.display = 'block';

      updateDisplayInfo();
    }
    function selectFootMenu(btn){
      // å˜ä¸€é¸æŠ
      document.querySelectorAll('#footMenuGroup button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');

      // â‘¦-2/â‘¦-3 ã‚’è¡¨ç¤º
      document.getElementById('footOffWrap').style.display = 'block';
      document.getElementById('footOptionWrap').style.display = 'block';

      updateDisplayInfo();
    }

    // ====== æ—¥æ™‚ãƒ”ãƒƒã‚«ãƒ¼ï¼ˆç°¡æ˜“ç‰ˆï¼‰ ======
    const JP_WD = ['æ—¥','æœˆ','ç«','æ°´','æœ¨','é‡‘','åœŸ'];
    const pad = n => String(n).padStart(2,'0');

    function buildDateOptions(selectEl, days=120, startDate=new Date()){
      const d = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());
      selectEl.innerHTML = '<option value="" disabled selected>æ—¥ä»˜ã‚’é¸æŠ</option>';
      for(let i=0;i<days;i++){
        const y=d.getFullYear(), m=pad(d.getMonth()+1), day=pad(d.getDate()), wd=d.getDay();
        const opt=document.createElement('option');
        opt.value=`${y}-${m}-${day}`;
        opt.textContent=`${y}/${m}/${day}ï¼ˆ${JP_WD[wd]}ï¼‰`;
        selectEl.appendChild(opt);
        d.setDate(d.getDate()+1);
      }
    }
    function buildHalfHourOptions(selectEl){
      selectEl.innerHTML = '<option value="" disabled selected>æ™‚é–“ã‚’é¸æŠ</option>';
      for(let h=10; h<=19; h++){
        for(const m of [0,30]){
          const opt=document.createElement('option');
          opt.value=`${pad(h)}:${pad(m)}`;
          opt.textContent=`${pad(h)}:${pad(m)}`;
          selectEl.appendChild(opt);
        }
      }
    }
    function updateHiddenAndPlaceholder(baseId){
      const day = document.getElementById(`${baseId}_day`).value;
      const time = document.getElementById(`${baseId}_time`).value;
      const hidden = document.getElementById(baseId);
      const ph = document.getElementById(`placeholder${baseId.slice(-1)}`);
      hidden.value = (day && time) ? `${day}T${time}` : "";
      if (ph) ph.style.display = hidden.value ? 'none' : '';
      updateDisplayInfo();
    }
    function restoreIfAny(baseId){
      const hidden = document.getElementById(baseId);
      if(!hidden.value) return;
      const [d,t] = hidden.value.split('T');
      const daySel = document.getElementById(`${baseId}_day`);
      const timeSel = document.getElementById(`${baseId}_time`);
      if (d && ![...daySel.options].some(o=>o.value===d)) {
        const tmp=document.createElement('option');
        tmp.value=d; tmp.textContent=d.replaceAll('-','/')+'ï¼ˆé¸æŠæ—¥ï¼‰';
        daySel.insertBefore(tmp, daySel.options[1]);
      }
      if (d) daySel.value=d;
      if (t) {
        buildHalfHourOptions(timeSel);
        const t5=t.slice(0,5);
        if ([...timeSel.options].some(o=>o.value===t5)) timeSel.value=t5;
      }
    }
    function initPicker(baseId, dateDays=120){
      const daySel=document.getElementById(`${baseId}_day`);
      const timeSel=document.getElementById(`${baseId}_time`);
      buildDateOptions(daySel, dateDays);
      timeSel.innerHTML='<option value="" selected hidden>æ™‚é–“ã‚’é¸æŠ</option>';
      daySel.addEventListener('change', ()=>{ buildHalfHourOptions(timeSel); updateHiddenAndPlaceholder(baseId); });
      timeSel.addEventListener('change', ()=>updateHiddenAndPlaceholder(baseId));
      restoreIfAny(baseId);
      updateHiddenAndPlaceholder(baseId);
    }
    function formatISOToJP(iso){
      if(!iso) return '';
      const [d,t]=iso.split('T'); if(!d||!t) return '';
      const [Y,M,D]=d.split('-').map(n=>parseInt(n,10));
      const [h,m]=t.split(':').map(n=>parseInt(n,10));
      if([Y,M,D,h,m].some(Number.isNaN)) return '';
      return `${Y}å¹´${M}æœˆ${D}æ—¥ ${pad(h)}:${pad(m)}`;
    }

    // ====== ã‚µãƒãƒªãƒ¼ ======
    function updateDisplayInfo(){
      const name = (document.getElementById('name').value || '').trim();
      const phone = (document.getElementById('phone').value || '').trim();
      const visit = (document.getElementById('visitCountFree').value || '').trim();
      const eyeBrowMenu = getSingle('eyeBrowMenuGroup') || '';
      const designer = document.getElementById('designer').value || '';

      const handMenu = (document.querySelector('#handMenuGroup button.active')||{}).innerText || '';
      const handOff = getSingle('handOffGroup');
      const handOpts = getMultiTexts('handOptionGroup');

      const footMenu = (document.querySelector('#footMenuGroup button.active')||{}).innerText || '';
      const footOff = getSingle('footOffGroup');
      const footOpts = getMultiTexts('footOptionGroup');

      const d1 = formatISOToJP(document.getElementById('date1').value);
      const d2 = formatISOToJP(document.getElementById('date2').value);
      const d3 = formatISOToJP(document.getElementById('date3').value);

      document.getElementById('displayInfo').innerHTML = `
        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãŠåå‰ã€‘</strong></span><br>ãƒ»${name || '-'}</p></div><hr>
        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãŠé›»è©±ç•ªå·ã€‘</strong></span><br>ãƒ»${phone || '-'}</p></div><hr>
        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ã”æ¥åº—å›æ•°ã€‘</strong></span><br>ãƒ»${visit || '-'}</p></div><hr>

        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ã¾ã¤æ¯›ãƒ»çœ‰æ¯›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‘</strong></span><br>ãƒ»${eyeBrowMenu || '-'}</p></div><hr>
        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãƒã‚¤ãƒ«ã®ã”æŒ‡åã€‘</strong></span><br>ãƒ»${designer || '-'}</p></div><hr>

        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãƒãƒ³ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‘</strong></span><br>ãƒ»${handMenu || '-'}</p></div>
        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãƒãƒ³ãƒ‰ï¼ˆã‚ªãƒ•ï¼‰ã€‘</strong></span><br>ãƒ»${handOff || (handMenu ? 'ï¼ˆæœªé¸æŠï¼‰':'-')}</p></div>
        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãƒãƒ³ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‘</strong></span><br>${handOpts.length ? 'ãƒ»' + handOpts.join('<br>ãƒ»') : 'ãƒ»ãªã—'}</p></div><hr>

        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‘</strong></span><br>ãƒ»${footMenu || '-'}</p></div>
        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãƒ•ãƒƒãƒˆï¼ˆã‚ªãƒ•ï¼‰ã€‘</strong></span><br>ãƒ»${footOff || (footMenu ? 'ï¼ˆæœªé¸æŠï¼‰':'-')}</p></div>
        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€ãƒ•ãƒƒãƒˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‘</strong></span><br>${footOpts.length ? 'ãƒ»' + footOpts.join('<br>ãƒ»') : (footMenu ? 'ãƒ»ï¼ˆæœªé¸æŠï¼‰':'ãƒ»-')}</p></div><hr>

        <div class="info-row"><p><span style="color:#45c4b7;"><strong>ã€å¸Œæœ›æ—¥æ™‚ã€‘</strong></span><br>
          ãƒ»ç¬¬1å¸Œæœ›ï¼š${d1 || '-'}<br>
          ãƒ»ç¬¬2å¸Œæœ›ï¼š${d2 || '-'}<br>
          ãƒ»ç¬¬3å¸Œæœ›ï¼š${d3 || '-'}</p></div>
      `;
    }

    // ====== é€ä¿¡ ======
    function submitForm(){
      const name = document.getElementById('name').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const visit = document.getElementById('visitCountFree').value.trim();
      const eyeBrowMenu = getSingle('eyeBrowMenuGroup');
      const designer = document.getElementById('designer').value;

      const handMenuEl = document.querySelector('#handMenuGroup button.active');
      const handMenu = handMenuEl ? handMenuEl.innerText.trim() : '';
      const handOff = getSingle('handOffGroup');
      const handOpts = getMultiTexts('handOptionGroup');

      const footMenuEl = document.querySelector('#footMenuGroup button.active');
      const footMenu = footMenuEl ? footMenuEl.innerText.trim() : '';
      const footOff = getSingle('footOffGroup');
      const footOpts = getMultiTexts('footOptionGroup');

      const date1 = document.getElementById('date1').value;
      const date2 = document.getElementById('date2').value;
      const date3 = document.getElementById('date3').value;
      const message = document.getElementById('message').value.trim();

      // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
      if(!name){ alert('ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!phone){ alert('ãŠé›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!visit){ alert('ã”æ¥åº—å›æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!eyeBrowMenu){ alert('ã¾ã¤æ¯›ãƒ»çœ‰æ¯›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!designer){ alert('ãƒã‚¤ãƒ«ã®ã”æŒ‡åã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }

      if(!handMenu){ alert('ãƒãƒ³ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!handOff){ alert('ãƒã‚¤ãƒ«ï¼ˆãƒãƒ³ãƒ‰ï¼‰ã®ã‚ªãƒ•æœ‰ç„¡ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!footMenu){ alert('ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!footOff){ alert('ãƒã‚¤ãƒ«ï¼ˆãƒ•ãƒƒãƒˆï¼‰ã®ã‚ªãƒ•æœ‰ç„¡ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }
      if(footOpts.length === 0){ alert('ãƒ•ãƒƒãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’1ã¤ä»¥ä¸Šé¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }

      if(!date1){ alert('ç¬¬1å¸Œæœ›æ—¥æ™‚ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!date2){ alert('ç¬¬2å¸Œæœ›æ—¥æ™‚ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }
      if(!date3){ alert('ç¬¬3å¸Œæœ›æ—¥æ™‚ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚'); return; }

      const text =
`ã€äºˆç´„ãƒ•ã‚©ãƒ¼ãƒ ã€‘

ãƒã‚¤ãƒ«ãƒ»ã¾ã¤æ¯›åŒæ™‚æ–½è¡“ã®ã”äºˆç´„

ã€ŠãŠåå‰ã€‹${name}
ã€ŠãŠé›»è©±ç•ªå·ã€‹${phone}
ã€Šã”æ¥åº—å›æ•°ã€‹${visit}

ã€Šã¾ã¤æ¯›ãƒ»çœ‰æ¯›ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‹
ãƒ»${eyeBrowMenu}

ã€Šãƒã‚¤ãƒ«ã®ã”æŒ‡åã€‹
ãƒ»${designer}

â€” ãƒãƒ³ãƒ‰ â€”
ã€Šãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‹${handMenu}
ã€Šã‚ªãƒ•ã€‹${handOff}
ã€Šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‹
${handOpts.length ? 'ãƒ»' + handOpts.join('\nãƒ»') : 'ãƒ»ãªã—'}

â€” ãƒ•ãƒƒãƒˆ â€”
ã€Šãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‹${footMenu}
ã€Šã‚ªãƒ•ã€‹${footOff}
ã€Šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€‹
ãƒ»${footOpts.join('\nãƒ»')}

ã€å¸Œæœ›æ—¥æ™‚ã€‘
ã€Šç¬¬1å¸Œæœ›ã€‹\n${formatISOToJP(date1)}
ã€Šç¬¬2å¸Œæœ›ã€‹\n${formatISOToJP(date2)}
ã€Šç¬¬3å¸Œæœ›ã€‹\n${formatISOToJP(date3)}

ã€Šãã®ä»–ã”è¦æœ›ã€‹
${message || 'ï¼ˆãªã—ï¼‰'}
`;

      liff.sendMessages([{ type:'text', text }]).then(()=>{
        alert('ç¢ºèªã—ã¦ã”é€£çµ¡å·®ã—ä¸Šã’ã¾ã™ã€‚');
        liff.closeWindow();
      }).catch(err=>{
        console.error('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ', err);
        alert('é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚é›»æ³¢çŠ¶æ³ã‚’ã”ç¢ºèªã®ä¸Šã€å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
      });
    }

    // ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆä»»æ„ï¼‰
    document.querySelectorAll('.side-nav a').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault();
        const id = a.getAttribute('href').substring(1);
        const el = document.getElementById(id);
        if(el){ window.scrollTo({ top: el.offsetTop - 20, behavior:'smooth'}); }
      });
    });

        function formatDate(datetime) {
            /* æ—¥æ™‚æ–‡å­—åˆ—ãŒç©ºã®å ´åˆã¯ç©ºæ–‡å­—ã‚’è¿”ã™ */
            if (!datetime) return '';
            /* æ—¥æ™‚æ–‡å­—åˆ—ã‚’Dateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ› */
            const date = new Date(datetime);
            /* å¹´ã€æœˆã€æ—¥ã€æ™‚ã€åˆ†ã‚’å–å¾—ã—ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ */
            const year = date.getFullYear();
            const month = ('0' + (date.getMonth() + 1)).slice(-2);
            const day = ('0' + date.getDate()).slice(-2);
            const hours = ('0' + date.getHours()).slice(-2);
            const minutes = ('0' + date.getMinutes()).slice(-2);
            return `${year}å¹´${month}æœˆ${day}æ—¥ ${hours}:${minutes}`;
        }

        async function fetchAvailability(date) {
            const startTime = new Date(date);
            const endTime = new Date(date);
            endTime.setDate(endTime.getDate() + 7);

            const cacheKey = startTime.toISOString() + endTime.toISOString();

            // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç¢ºèª
            if (availabilityCache[cacheKey]) {
                console.log('Using cached data');
                updateCalendar(availabilityCache[cacheKey].availability, availabilityCache[cacheKey].businessDays);
                return;
            }

            const url = 'https://script.google.com/macros/s/AKfycbwCoOmA44deifnwIwAsO7V1Uny7svUWedyJ-57v0JEuw_keFeFiYxI2O_9-H4r8-dy6/exec' +
                `?startTime=${startTime.toISOString()}&endTime=${endTime.toISOString()}`;

            try {
                showLoadingSpinner(); // Show loading spinner
                const response = await fetch(url);
                const data = await response.json();
                console.log(data);

                // å–¶æ¥­æ—¥ã®æƒ…å ±ã‚’æŠ½å‡º
                const businessDays = data.filter(event => event.summary === "å–¶æ¥­æ—¥").map(event => {
                    return {
                        start: new Date(event.startTime),
                        end: new Date(event.endTime)
                    };
                });

                // ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
                availabilityCache[cacheKey] = { availability: data, businessDays: businessDays };

                updateCalendar(data, businessDays);
            } catch (error) {
                console.error('Error fetching availability:', error);
            } finally {
                hideLoadingSpinner(); // Hide loading spinner
            }
        }

        function updateCalendar(availability, businessDays) {
            const calendar = document.getElementById('calendar1');
            const table = calendar.querySelector('table tbody');

            const times = [
                '09:00', '09:30', '10:00', '10:30', '11:00', '11:30',
                '12:00', '12:30', '13:00', '13:30',
                '14:00', '14:30', '15:00', '15:30',
                '16:00', '16:30', '17:00', '17:30',
                '18:00'
            ];

            if (table.rows.length === 0) {
                for (const time of times) {
                    const row = document.createElement('tr');
                    const timeCell = document.createElement('td');
                    timeCell.textContent = time;
                    row.appendChild(timeCell);

                    for (let i = 0; i < 7; i++) {
                        const cell = document.createElement('td');
                        cell.addEventListener('click', () => selectDate(cell));
                        row.appendChild(cell);
                    }

                    table.appendChild(row);
                }
            }

            // ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’æ›´æ–°
            updateCalendarHeader(currentDate);

            // å„ã‚»ãƒ«ã‚’ç©ºç™½ã«ãƒªã‚»ãƒƒãƒˆã—ã€ã‚¯ãƒ©ã‚¹ã‚‚ãƒªã‚»ãƒƒãƒˆ
            for (let row of table.rows) {
                for (let i = 1; i < row.cells.length; i++) {
                    row.cells[i].textContent = '';
                    row.cells[i].removeAttribute('data-date');
                    row.cells[i].classList.remove('available', 'unavailable', 'selected');
                }
            }


            // ç¾åœ¨ã®æ—¥æ™‚ã‚’å–å¾—
            const now = new Date();

            // ãƒ†ãƒ¼ãƒ–ãƒ«ã®å†…å®¹ã‚’æ›´æ–°
            for (let i = 0; i < 7; i++) {
                const day = new Date(currentDate);
                day.setDate(day.getDate() + i);

                let businessEventTimes = []; // å–¶æ¥­æ—¥ã®ã‚¤ãƒ™ãƒ³ãƒˆæ™‚é–“å¸¯ã‚’è¨˜éŒ²ã™ã‚‹é…åˆ—

                availability.forEach(slot => {
                    const eventStart = new Date(slot.startTime);
                    const eventEnd = new Date(slot.endTime);
                    if (eventStart.toDateString() === day.toDateString() && slot.title === "å–¶æ¥­æ—¥") {
                        businessEventTimes.push({ start: eventStart, end: eventEnd });
                    }
                });

                for (let j = 0; j < times.length; j++) {
                    const cell = table.rows[j].cells[i + 1];

                    // ã™ã§ã«ã‚»ãƒ«ãŒâœ•ã®å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹
                    if (cell.textContent === 'âœ•') {
                        continue;
                    }

                    const slotStart = new Date(day);
                    slotStart.setHours(parseInt(times[j].split(':')[0]), parseInt(times[j].split(':')[1]), 0, 0);

                    const slotEnd = new Date(slotStart);
                    let menuDuration = selectedMenuTime || 10;
                    let visitDuration = selectedVisitTime || 0;
                    let irradiationsDuration = selectedirradiationsTime || 0;

                    // ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ™‚é–“ã¨è¨ªå•å›æ•°ã®æ™‚é–“ã‚’åˆè¨ˆã—ã¦ã€çµ‚äº†æ™‚é–“ã‚’è¨­å®š
                    slotEnd.setMinutes(slotStart.getMinutes() + menuDuration + visitDuration + irradiationsDuration);

                    // çµ‚äº†æ™‚é–“ãŒç¿Œæ—¥ (0æ™‚ä»¥é™) ã«ãªã‚‹å ´åˆã¯âœ•ã«è¨­å®š
                    if (slotEnd.getDate() !== slotStart.getDate()) {
                        cell.textContent = 'âœ•';
                        cell.classList.add('unavailable');
                        continue;
                    }

                    // 18æ™‚ä»¥é™ã«çµ‚äº†ã™ã‚‹äºˆç´„ã‚’ä¸å¯ã«ã™ã‚‹ (17:30ã¯å¯)
                    if (slotEnd.getHours() === 18 && slotEnd.getMinutes() > 0) {
                        cell.textContent = 'âœ•';
                        cell.classList.add('unavailable');
                        continue;
                    } else if (slotEnd.getHours() > 18) {
                        cell.textContent = 'âœ•';
                        cell.classList.add('unavailable');
                        continue;
                    }

                    // ã“ã“ã§çµ‚äº†æ™‚é–“ã‚’ä½¿ã£ãŸæ¡ä»¶å‡¦ç†ã‚’è¡Œã†
                    // ä¾‹ãˆã°ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ—¢ã«éããŸæ™‚é–“å¸¯ã¯Ã—ã«ã™ã‚‹
                    if (slotStart < now) {
                        cell.textContent = 'âœ•';
                        cell.classList.add('unavailable');
                        continue;
                    }

                    const isBusinessDay = businessDays.some(businessDay => {
                        const businessDayStart = new Date(businessDay.start);
                        const businessDayEnd = new Date(businessDay.end);
                        return slotStart >= businessDayStart && slotEnd <= businessDayEnd;
                    });

                    const isBusinessEventTime = businessEventTimes.some(event => {
                        return slotStart < event.end && event.start < slotEnd;
                    });

                    const count = availability.reduce((acc, slot) => {
                        const eventStart = new Date(slot.startTime);
                        const eventEnd = new Date(slot.endTime);

                        if (eventStart < slotEnd && slotStart < eventEnd && slot.title !== "å–¶æ¥­æ—¥") {
                            return acc + 1;
                        }
                        return acc;
                    }, 0);

                    // å–¶æ¥­æ—¥ã®ã‚¤ãƒ™ãƒ³ãƒˆæ™‚é–“å†…ã«ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒã‚ã‚‹å ´åˆ
                    if (isBusinessEventTime && count > 0) {
                        cell.textContent = 'âœ•';
                        cell.classList.add('unavailable');
                    }
                    // å–¶æ¥­æ—¥ã®ã‚¤ãƒ™ãƒ³ãƒˆæ™‚é–“ï¼ˆä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒãªã„å ´åˆï¼‰
                    else if (isBusinessEventTime) {
                        cell.textContent = 'â—¯';
                        cell.classList.add('available');
                    }
                    // å–¶æ¥­æ—¥ã§ã€æŒ‡å®šã•ã‚Œã¦ã„ã‚‹æ™‚é–“ä»¥å¤–ã®æ™‚é–“ã¯Ã—
                    else if (businessEventTimes.length > 0) {
                        cell.textContent = 'âœ•';
                        cell.classList.add('unavailable');
                    }
                    // æ—¥æ›œæ—¥ã§ã€å–¶æ¥­æ—¥ã§ã¯ãªã„å ´åˆ
                    else if (slotStart.getDay() === 0 && !isBusinessDay && businessEventTimes.length === 0) {
                        cell.textContent = 'âœ•';
                        cell.classList.add('unavailable');
                    }
                    // å–¶æ¥­æ—¥ã§ã‹ã¤ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒãªã„å ´åˆ
                    else if (isBusinessDay && count === 0) {
                        cell.textContent = 'â—¯';
                        cell.classList.add('available');
                    }
                    // ãã‚Œä»¥å¤–ã®æ¡ä»¶
                    else if (count <= 0) {
                        cell.textContent = 'â—¯';
                        cell.classList.add('available');
                    } else {
                        cell.textContent = 'âœ•';
                        cell.classList.add('unavailable');
                    }

                    cell.setAttribute('data-date', slotStart.toISOString());
                }
            }
        }

        function updateCalendarHeader(date) {
            const headerRow = document.getElementById('calendar-header');
            const headers = headerRow.querySelectorAll('th:not(:first-child)');

            // ã‚µãƒ³ãƒ—ãƒ«ã®ç¥æ—¥ãƒ‡ãƒ¼ã‚¿ï¼ˆå¿…è¦ã«å¿œã˜ã¦å‹•çš„ã«å–å¾—ã‚‚æ¤œè¨ï¼‰
            const holidays = [
                '2025-02-11', // å»ºå›½è¨˜å¿µã®æ—¥
                '2025-02-23', // å¤©çš‡èª•ç”Ÿæ—¥
                '2025-02-24', // å¤©çš‡èª•ç”Ÿæ—¥ æŒ¯æ›¿ä¼‘æ—¥
                '2025-03-20', // æ˜¥åˆ†ã®æ—¥
                '2025-04-29', // æ˜­å’Œã®æ—¥
                '2025-05-03', // æ†²æ³•è¨˜å¿µæ—¥
                '2025-05-04', // ã¿ã©ã‚Šã®æ—¥
                '2025-05-05', // ã“ã©ã‚‚ã®æ—¥
                '2025-05-06', // ã¿ã©ã‚Šã®æ—¥ æŒ¯æ›¿ä¼‘æ—¥
                '2025-07-21', // æµ·ã®æ—¥
                '2025-08-11', // å±±ã®æ—¥
                '2025-09-15', // æ•¬è€ã®æ—¥
                '2025-09-23', // ç§‹åˆ†ã®æ—¥
                '2025-10-13', // ä½“è‚²ã®æ—¥
                '2025-11-03', // æ–‡åŒ–ã®æ—¥
                '2025-11-23', // å‹¤åŠ´æ„Ÿè¬ã®æ—¥
                '2025-11-24', // å‹¤åŠ´æ„Ÿè¬ã®æ—¥ æŒ¯æ›¿ä¼‘æ—¥
                '2026-01-01', // å…ƒæ—¥
                '2026-01-12', // æˆäººã®æ—¥
                '2026-02-11', // å»ºå›½è¨˜å¿µã®æ—¥
                '2026-02-23', // å¤©çš‡èª•ç”Ÿæ—¥
                '2026-03-20', // æ˜¥åˆ†ã®æ—¥
                '2026-04-29', // æ˜­å’Œã®æ—¥
                '2026-05-03', // æ†²æ³•è¨˜å¿µæ—¥
                '2026-05-04', // æ†²æ³•è¨˜å¿µæ—¥ æŒ¯æ›¿ä¼‘æ—¥
                '2026-05-05', // ã¿ã©ã‚Šã®æ—¥
                '2026-05-06', // ã“ã©ã‚‚ã®æ—¥
                '2026-07-20', // æµ·ã®æ—¥
                '2026-08-11', // å±±ã®æ—¥
                '2026-09-21', // æ•¬è€ã®æ—¥
                '2026-09-22', // å›½æ°‘ã®ä¼‘æ—¥
                '2026-09-23', // ç§‹åˆ†ã®æ—¥
                '2026-10-12', // ä½“è‚²ã®æ—¥
                '2026-11-03', // æ–‡åŒ–ã®æ—¥
                '2026-11-23', // å‹¤åŠ´æ„Ÿè¬ã®æ—¥
                '2027-01-01', // å…ƒæ—¥
                '2027-01-11', // æˆäººã®æ—¥
                '2027-02-11', // å»ºå›½è¨˜å¿µã®æ—¥
                '2027-02-23', // å¤©çš‡èª•ç”Ÿæ—¥
                '2027-03-20', // æ˜¥åˆ†ã®æ—¥
                '2027-04-29', // æ˜­å’Œã®æ—¥
                '2027-05-03', // æ†²æ³•è¨˜å¿µæ—¥
                '2027-05-04', // ã¿ã©ã‚Šã®æ—¥
                '2027-05-05', // ã“ã©ã‚‚ã®æ—¥
                '2027-07-19', // æµ·ã®æ—¥
                '2027-08-11', // å±±ã®æ—¥
                '2027-09-20', // æ•¬è€ã®æ—¥
                '2027-09-23', // ç§‹åˆ†ã®æ—¥
                '2027-10-11', // ä½“è‚²ã®æ—¥
                '2027-11-03', // æ–‡åŒ–ã®æ—¥
                '2027-11-23', // å‹¤åŠ´æ„Ÿè¬ã®æ—¥
                '2028-01-01', // å…ƒæ—¥
                '2028-01-10', // æˆäººã®æ—¥
                '2028-02-11', // å»ºå›½è¨˜å¿µã®æ—¥
                '2028-02-23', // å¤©çš‡èª•ç”Ÿæ—¥
                '2028-03-20', // æ˜¥åˆ†ã®æ—¥
                '2028-04-29', // æ˜­å’Œã®æ—¥
                '2028-05-03', // æ†²æ³•è¨˜å¿µæ—¥
                '2028-05-04', // ã¿ã©ã‚Šã®æ—¥
                '2028-05-05', // ã“ã©ã‚‚ã®æ—¥
                '2028-07-17', // æµ·ã®æ—¥
                '2028-08-11', // å±±ã®æ—¥
                '2028-09-18', // æ•¬è€ã®æ—¥
                '2028-09-22', // ç§‹åˆ†ã®æ—¥
                '2028-10-09', // ä½“è‚²ã®æ—¥
                '2028-11-03', // æ–‡åŒ–ã®æ—¥
                '2028-11-23'  // å‹¤åŠ´æ„Ÿè¬ã®æ—¥
            ];

            const startDate = new Date(date);
            headers.forEach((th, index) => {
                const day = new Date(startDate);
                day.setDate(day.getDate() + index);

                const dayOfWeek = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
                const formattedDate = `${day.getFullYear()}-${(day.getMonth() + 1).toString().padStart(2, '0')}-${day.getDate().toString().padStart(2, '0')}`;
                const dayString = `${day.getDate()}(${dayOfWeek[day.getDay()]})`;

                th.innerHTML = dayString.replace('(', '<br>(');

                // ç¥æ—¥ã‚’èµ¤è‰²ã«å¤‰æ›´ï¼ˆæ›œæ—¥åˆ¤å®šã§ã¯ãªãå®Œå…¨ä¸€è‡´åˆ¤å®šï¼‰
                if (holidays.includes(formattedDate)) {
                    th.style.color = 'red';
                } else if (day.getDay() === 0) { // æ—¥æ›œæ—¥ï¼ˆèµ¤ï¼‰
                    th.style.color = 'red';
                } else if (day.getDay() === 6) { // åœŸæ›œæ—¥ï¼ˆé’ï¼‰
                    th.style.color = 'blue';
                } else {
                    th.style.color = ''; // é€šå¸¸è‰²ã«ãƒªã‚»ãƒƒãƒˆ
                }
            });

            // ç¾åœ¨ã®æœˆã‚’è¡¨ç¤º
            const currentMonthElement = document.getElementById('currentMonth');
            currentMonthElement.innerHTML = `<span class="year">${startDate.getFullYear()}å¹´</span><br><span class="month">${startDate.getMonth() + 1}æœˆ</span>`;

        }

        function nextmonth() {
            currentDate.setMonth(currentDate.getMonth() + 1); // ç¿Œæœˆã«ç§»å‹•
            currentDate.setDate(1); // 1æ—¥ã«è¨­å®š
            fetchAvailability(currentDate);
        }

        function previousmonth() {
            currentDate.setMonth(currentDate.getMonth() - 1); // å‰æœˆã«ç§»å‹•
            currentDate.setDate(1); // 1æ—¥ã«è¨­å®š
            fetchAvailability(currentDate);
        }

        function nextWeek() {
            currentDate.setDate(currentDate.getDate() + 7);
            fetchAvailability(currentDate);
        }

        function previousWeek() {
            currentDate.setDate(currentDate.getDate() - 7);
            fetchAvailability(currentDate);
        }

        function showLoadingSpinner() {
            document.getElementById('loadingSpinner').style.display = 'block';
        }

        function hideLoadingSpinner() {
            document.getElementById('loadingSpinner').style.display = 'none';
        }
    </script>
</body>

</html>
